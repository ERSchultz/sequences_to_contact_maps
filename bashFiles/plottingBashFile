#! /bin/bash
#SBATCH --job-name=plotting
#SBATCH --partition=depablo-gpu
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=20
#SBATCH --mem-per-cpu=2000
#SBATCH --output=logFiles/plotting.log
#SBATCH --time=02:00:00

dirname="../../../project2/depablo/erschultz/dataset_04_18_21"

# partition
gpus=1

# model type
modelType='DeepC'

# architecture
k=2
n=1024
yPreprocessing='diag'
yNorm='batch'
kernelWList='5-5-5'
hiddenSizesList='32-64-128'
dilationList='2-4-8-16-32-64-128-256-512'
outAct='sigmoid'

# hyperparameters
nEpochs=60
lr=1e-2
batchSize=32
numWorkers=4
milestones='10-20-30-40-50'
gamma=0.1


cd ~/sequences_to_contact_maps
source activate seq2contact_pytorch
python3 neural_net_utils/plotting_functions.py  --data_folder $dirname  --gpus $gpus --model_type $modelType --k $k --n $n --y_preprocessing ${yPreprocessing} --y_norm $yNorm --kernel_w_list $kernelWList --hidden_sizes_list $hiddenSizesList --dilation_list $dilationList --out_act $outAct --n_epochs $nEpochs --lr $lr --batch_size $batchSize --num_workers $numWorkers --milestones $milestones --gamma $gamma

yPreprocessing='prcnt'

python3 neural_net_utils/plotting_functions.py  --data_folder $dirname  --gpus $gpus --model_type $modelType --k $k --n $n --y_preprocessing ${yPreprocessing} --y_norm $yNorm --kernel_w_list $kernelWList --hidden_sizes_list $hiddenSizesList --dilation_list $dilationList --out_act $outAct --n_epochs $nEpochs --lr $lr --batch_size $batchSize --num_workers $numWorkers --milestones $milestones --gamma $gamma
